<div class="recipe-fields">
    <div class="recipe">
        <div class="name-input">Imagem da receita</div>
        <input type="url" name="image" value="{{recipe.image}}">
    </div>

    <div class="preparation">
        <div class="name-input">Título da receita</div>
        <input name="title" value="{{recipe.title}}">
    </div>

    <div class="preparation">
        <div class="name-input">Feito por</div>
        <input name="author" value="{{recipe.author}}">
    </div>

    <div id="ingredients">
        <div class="ingredient">
            <div class="name-input">Ingredientes</div>
            
            <input class="hide-input" name="ingredients[]">

            {% for ingredient in recipe.ingredients %}
                <input name="ingredients[]" value="{{ingredient}}">
            {% endfor %}

            <div class="box-ingredients"></div>
            
            <button class="add-button add-ingredient" type="button">
                Adicionar novo ingrediente
            </button>
        </div>
    </div>

    <div class="preparation">
        <div class="name-input">Modo de preparo</div>

        <input class="input-script hide-input" name="preparation[]">

        {% for preparation in recipe.preparation %}
            <input name="preparation[]" value="{{preparation}}">
        {% endfor %}

        <div class="box-preparation"></div>

        <button class="add-button add-preparation" type="button">
            Adicionar novo passo
        </button>
    </div>

    <div class="information">
        <div class="name-input">Informações adicionais</div>
        <textarea name="information">{{recipe.information}}</textarea>
    </div>
</div>

<script>
    displayInput();

    function displayInput() {
        const currentPage = location.pathname;
        const inputIngredient = document.querySelector('.ingredient input');
        const inputPreparation = document.querySelector('.input-script');

        let href = String(currentPage);

        if(href == '/admin/recipes/create') {
            inputIngredient.classList.remove("hide-input");
            inputPreparation.classList.remove("hide-input");
        }
    }
</script>