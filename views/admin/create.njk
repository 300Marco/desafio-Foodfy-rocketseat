{% extends "layout.njk" %}

{% block title %}
    <title>Detalhes Foodfy</title>
{% endblock %}

{% block header %}
    <header class="header-background">
        <div class="header-menu-box">
            <div class="title">
                <h2 class="sr-only">Admin Foodfy</h2>

                <a href="/admin/recipes">
                    <img src="/assets/admin-logo.png" alt="Foodfy">
                </a>
            </div>
        </div>
    </header>
{% endblock %}

{% block contents %}
    <form method="POST" action="/admin/recipes">
        <div class="recipe-detail">
            <span class="detail-title">Criando Receita</span>
            <button class="edit-button" type="submit">Salvar Receita</button>
        </div>

        {% include "admin/fields.njk" %}
    </form>

    <script>
        addIngrdient();
        addPreparation();
        createInputIngredient();
        createInputPreparation();

        function createInputIngredient() {
            const boxInputIngredient = document.querySelector('.box-input-ingredient');
            
            const createInput = document.createElement('input');

            createInput.setAttribute('type', 'text');
            createInput.setAttribute('name', 'ingredients[]');

            boxInputIngredient.appendChild(createInput);
        }

        function createInputPreparation() {
            const boxInputPreparation = document.querySelector('.box-input-preparation');
            
            const createInput = document.createElement('input');

            createInput.setAttribute('type', 'text');
            createInput.setAttribute('name', 'preparation[]');

            boxInputPreparation.appendChild(createInput);
        }
        
        function addIngrdient() {
            const btnAddIngredient = document.querySelector('.add-ingredient');
            const box = document.querySelector('.box-ingredients');

            btnAddIngredient.addEventListener('click', () => {
                const newInput = document.createElement('input');
                
                newInput.setAttribute('type', 'text');
                newInput.setAttribute('name', 'ingredients[]');

                box.appendChild(newInput);
            });
        }

        function addPreparation() {
            const btnAddPreparation = document.querySelector('.add-preparation');
            const box = document.querySelector('.box-preparation');

            btnAddPreparation.addEventListener('click', () => {
                const newInput = document.createElement('input');
                
                newInput.setAttribute('type', 'text');
                newInput.setAttribute('name', 'preparation[]');

                box.appendChild(newInput);
            });
        }
        
    </script>
{% endblock %}

{% block footer %}
    
{% endblock %}

{% block scripts %}
    
{% endblock %}